---
bibliography: trusts/bibliography.bib
fontsize: 10pt
urlcolor: olive
documentclass:
    - article
classoption:
    - twocolumn
geometry:
    - letterpaper
    - columnsep = 0.5in
    - hmargin = 0.65in
    - vmargin = 1.0in
output:
    rmarkdown::pdf_document:
    keep_tex: FALSE
    citation_package: "default"
    number_sections: FALSE
    extra_dependencies:
        - booktabs
header-includes:
    - \usepackage{color}
    - \usepackage{caption}
    - \usepackage{booktabs}
    - \captionsetup[figure]{font={small, color=gray}, width=.8\linewidth}
    - \captionsetup[table]{font={small, color=gray}, width=.8\linewidth}
    - \usepackage{xcolor}
    - \usepackage{titlesec}
    - \usepackage{tikz}
    - \usetikzlibrary{shapes.geometric, arrows.meta, matrix, arrows, automata, positioning, shadows, trees}
    - \definecolor{darkgrey}{rgb}{.45,.45,.45}
    - \titleformat*{\subsection}{\bfseries\large\color{darkgrey}}
---

<!--- Global Settings --->
```{r include = FALSE}
knitr::opts_chunk$set(echo = FALSE)
```


<!--- Libraries --->
```{r include = FALSE}
library(ggplot2)
library(dplyr)
library(tidyr)
library(stringr)
library(magrittr)
library(latex2exp)
```


```{r}
sys.source(file = 'R/EvaluationHistoriesData.R', envir = knitr::knit_global())
sys.source(file = 'R/EvaluationHistories.R', envir = knitr::knit_global())
sys.source(file = 'R/EvaluationEndpointsData.R', envir = knitr::knit_global())
sys.source(file = 'R/EvaluationEndpoints.R', envir = knitr::knit_global())
```

# INTRODUCTION

Hence, the project focused on the development of overarching task is the development of a model that predicts a NHS Trust's expected new admissions, per day,  This led to three core challenges

The models forecast the expected new coronavirus disease admissions per day for the next 15 days.

\vspace{35pt}

\pagebreak

# METHODS

The schematic illustration of *figure ...* outlines the project's data engineering, modelling, and evaluation steps, which underlie the project's research strategy.  This section briefly discusses the research strategy, and the steps.

```{r out.width = '90%', fig.align = 'center', fig.cap = "The project's processing, analysis, modelling, and evaluation steps.  Please refer to the methodologies section for a brief description of (a) the patient flow weights, and (b) the estimation of NHS trust level measures via flow weights and LTLA level measures.  MSOA: middle layer super output area, LTLA: lower tier local authority, ONS: office for national statistics, NHS: national health service, PHE: Public Health England."}
knitr::include_graphics(path = 'images/flow.pdf', auto_pdf = getOption(x = "knitr.graphics.auto_pdf", default = TRUE),
                        dpi = NULL,  error = getOption(x = "knitr.graphics.error", default = TRUE)
)
```

## RESEARCH STRATEGY

In progress $\ldots$ includes research strategy [@Oates2006]

\vspace{10pt}

## DATA ENGINEERING

### Data Collection.

The data sources are: (a) the [coronavirus.data.gov.uk](https://coronavirus.data.gov.uk/details/developers-guide/main-api) application programming interface (API) for England's SARS-CoV-2 infections measures, (b) the [office for national statistics (ONS)](https://www.ons.gov.uk/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/middlesuperoutputareamidyearpopulationestimates) for population estimates, (c) [Public Health England (PHE)](https://app.box.com/s/qh8gzpzeo1firv1ezfxx2e6c4tgtrudl) for the annual intake of patients from one or more middle layer super output areas to an NHS Trust, and (d) the [Open Geography Portal (geoportal)](https://geoportal.statistics.gov.uk/search?collection=Dataset&sort=name&tags=all(LUP_MSOA_WD_LAD)) for the middle layer super output area (MSOA) $\leftrightarrow$ lower tier local authority (LTLA) geographic codes mappings.

\vspace{10pt}

### Structuring & Integrating.

\textcolor{blue}{In progress $\ldots$}

\vspace{10pt}

### Features Engineering.

\textcolor{blue}{In progress $\ldots$}  The prospective modelling measures exists at either NHS Trust or Lower Tier Local Authority (LTLA) level, but our interest lies is in NHS Trust level admissions, therefore ... the NHS Trust level estimates ...




\vspace{10pt}


## MODELLING

* Pre-modelling procedures.   [This point refers to the pre-ML/pre-forecasting pre-processing. It is separate from the initial pre-processing & features engineering that leads to the raw design matrix and dependent variable.]
* Data mining techniques?
* Statistical techniques?

H.A., J.R., C.O. were discussing:

* Data preparation ... temporal splitting, [rec, diff,  ...]
* model design & training ...
  * CNN, LSTM, GRU ... why?  briefly discuss type of problem
  * Window ... why?  ... forecasting 15 days into the future based on unknown "effective days of history" ... windows allow us to investigate via varying history window sizes

\vspace{10pt}

## EVALUATION
A brief description of the evaluation metrics.  [Results discusses the evaluations in detail]


\vspace{35pt}


# RESULTS

## MODEL EVALUATION

```{r out.width = '85%', fig.height = 6.5, fig.align = 'center', fig.cap = 'MAE w.r.t. the ...'}
endpoints <- EvaluationEndpointsData()
EndpointsMAE(endpoints = endpoints)
```




```{r out.width = '85%', fig.height = 6.5, fig.align = 'center', fig.cap = 'Loss w.r.t. the ...'}
EndpointsLoss(endpoints = endpoints)
```


```{r out.width = '85%', fig.height = 6.5, fig.align = 'center', fig.cap = 'Pending'}
melted <- EvaluationHistoriesData()
ValidationHistoryMAE(melted = melted)
```


```{r out.width = '85%', fig.height = 6.5, fig.align = 'center', fig.cap = 'The loss errors'}
ValidationHistoryLoss(melted = melted)
```

Project guide:

* Explain your results and what your analysis revealed ()

* What implications would your analysis' results have? How do your findings relate to the original question?

## BIASES & VALIDITY

* Were there potential biases in your work?

* Validity (remember to discuss what would have been done differently to address identified limitations)



\vspace{35pt}



# CONCLUSIONS


Project Guide:

* Reflection on the approach taken. (Appropriate?)

* How would you have improved the approach in future? (Alternative methodologies, models, etc)


\vspace{35pt}

# REFERENCES

